{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/product.service\";\nimport * as i2 from \"src/app/user.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../product-detail/product-detail.component\";\n\nfunction ProductItemComponent_app_product_detail_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-product-detail\", 7);\n    i0.ɵɵlistener(\"onClose\", function ProductItemComponent_app_product_detail_0_Template_app_product_detail_onClose_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.handleModal();\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"product\", ctx_r0.product);\n  }\n}\n\nfunction ProductItemComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ProductItemComponent_div_8_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.onAddToCart(ctx_r5.product);\n    });\n    i0.ɵɵtext(2, \"Add to cart\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function ProductItemComponent_div_8_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.onClickDetails();\n    });\n    i0.ɵɵtext(4, \"Details\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction ProductItemComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function ProductItemComponent_div_9_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.onEdit(ctx_r8.product);\n    });\n    i0.ɵɵtext(2, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function ProductItemComponent_div_9_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.onDelete(ctx_r10.product);\n    });\n    i0.ɵɵtext(4, \"Delete\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nexport let ProductItemComponent = /*#__PURE__*/(() => {\n  class ProductItemComponent {\n    constructor(productService, userService, router, route) {\n      this.productService = productService;\n      this.userService = userService;\n      this.router = router;\n      this.route = route;\n      this.openModal = false;\n    }\n\n    ngOnInit() {}\n\n    onClickDetails() {\n      this.openModal = true;\n    }\n\n    handleModal() {\n      this.openModal = false;\n    }\n\n    onAddToCart(product) {\n      this.productService.addToCart(product);\n      this.handleModal();\n    }\n\n    onEdit(product) {\n      this.router.navigate(['admin', this.product._id, 'edit']);\n    }\n\n    onDelete(product) {\n      this.productService.deleteProduct(product._id);\n    }\n\n  }\n\n  ProductItemComponent.ɵfac = function ProductItemComponent_Factory(t) {\n    return new (t || ProductItemComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n  };\n\n  ProductItemComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductItemComponent,\n    selectors: [[\"app-product-item\"]],\n    inputs: {\n      product: \"product\",\n      adminMode: \"adminMode\"\n    },\n    decls: 10,\n    vars: 6,\n    consts: [[3, \"product\", \"onClose\", 4, \"ngIf\"], [1, \"card\", 2, \"width\", \"18rem\"], [\"alt\", \"Card image cap\", 1, \"card-img-top\", 3, \"src\"], [1, \"card-body\", \"text-center\"], [1, \"card-title\"], [1, \"card-text\"], [4, \"ngIf\"], [3, \"product\", \"onClose\"], [\"routerLink\", \"\", 1, \"btn\", \"btn-dark\", 2, \"margin\", \".25rem\", 3, \"click\"], [1, \"btn\", \"btn-light\", 2, \"margin\", \".25rem\", 3, \"click\"], [1, \"btn\", \"btn-dark\", 2, \"margin\", \".25rem\", 3, \"click\"]],\n    template: function ProductItemComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProductItemComponent_app_product_detail_0_Template, 1, 1, \"app-product-detail\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelement(2, \"img\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3)(4, \"h5\", 4);\n        i0.ɵɵtext(5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"p\", 5);\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(8, ProductItemComponent_div_8_Template, 5, 0, \"div\", 6);\n        i0.ɵɵtemplate(9, ProductItemComponent_div_9_Template, 5, 0, \"div\", 6);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.openModal);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"src\", ctx.product.imageUrl, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.product.title);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"$ \", ctx.product.price, \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.adminMode);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.adminMode);\n      }\n    },\n    directives: [i4.NgIf, i5.ProductDetailComponent, i3.RouterLink],\n    styles: [\".card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003,0 6px 20px #00000030;height:23rem}.card-img-top[_ngcontent-%COMP%]{height:50%}img[_ngcontent-%COMP%]{-o-object-fit:contain;object-fit:contain}.btn-light[_ngcontent-%COMP%]{border-color:#343a40}\"]\n  });\n  return ProductItemComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}