{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"@angular/common\";\n\nfunction CartComponent_li_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 5)(1, \"div\")(2, \"div\")(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\")(6, \"span\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(8, \"div\")(9, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function CartComponent_li_3_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.onClickRemove(item_r4.product._id);\n    });\n    i0.ɵɵtext(10, \"Remove\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"\", item_r4.product.title, \" - \", item_r4.quantity, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Subtotal: $ \", item_r4.quantity * item_r4.product.price, \"\");\n  }\n}\n\nfunction CartComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 8);\n    i0.ɵɵtext(4, \"Order now!\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Total: $ \", ctx_r1.totalPrice, \"\");\n  }\n}\n\nfunction CartComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"h3\");\n    i0.ɵɵtext(2, \"Your cart is empty!\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nexport let CartComponent = /*#__PURE__*/(() => {\n  class CartComponent {\n    constructor(userService) {\n      this.userService = userService;\n    }\n\n    ngOnInit() {\n      this.cartItems = this.userService.getCartItems();\n      this.cartChanged = this.userService.cartItemsChanged.subscribe(items => {\n        this.cartItems = items;\n      });\n      this.totalPrice = this.getTotalPrice();\n    }\n\n    onClickRemove(productId) {\n      this.userService.removeFromCart(productId);\n    }\n\n    getTotalPrice() {\n      let totalPrice = 0;\n\n      for (let item of this.cartItems) {\n        totalPrice = totalPrice + item.product.price * item.quantity;\n      }\n\n      return totalPrice;\n    }\n\n  }\n\n  CartComponent.ɵfac = function CartComponent_Factory(t) {\n    return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.UserService));\n  };\n\n  CartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CartComponent,\n    selectors: [[\"app-cart\"]],\n    decls: 8,\n    vars: 3,\n    consts: [[1, \"container\"], [1, \"list-group\"], [\"class\", \"list-group-item d-flex justify-content-between align-items-center\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"text-center\", 4, \"ngIf\", \"ngIfElse\"], [\"cartEmpty\", \"\"], [1, \"list-group-item\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"text-center\"], [1, \"btn\", \"btn-dark\"]],\n    template: function CartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"br\");\n        i0.ɵɵelementStart(1, \"div\", 0)(2, \"ul\", 1);\n        i0.ɵɵtemplate(3, CartComponent_li_3_Template, 11, 3, \"li\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"hr\");\n        i0.ɵɵtemplate(5, CartComponent_div_5_Template, 5, 1, \"div\", 3);\n        i0.ɵɵtemplate(6, CartComponent_ng_template_6_Template, 3, 0, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r2 = i0.ɵɵreference(7);\n\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.cartItems);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.cartItems.length > 0)(\"ngIfElse\", _r2);\n      }\n    },\n    directives: [i2.NgForOf, i2.NgIf],\n    styles: [\"\"]\n  });\n  return CartComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}